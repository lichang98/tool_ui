<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Darwin IDE</title>
</head>
<body>

    <!-- 顶部标题栏 -->
    <nav>
      <div class="nav-wrapper blue darken-4">
        <a href="#!" class="right" style="margin-right: 0;">
          <img src="./resources/convertor_log.png" style="width: 105px;height: 100%;margin-left: 0;"></img>
        </a>
        <a href="#!" class="brand-logo center">模型转换器</a>
        <ul>
          <li>
            <a id="backHome" href="#">
              <i class="material-icons">arrow_back</i>
            </a>
          </li>
          <li style="width: 30px;"></li>
          <li>
            <a href="#" data-target="slide-out" class="sidenav-trigger show-on-large">
              <i class="material-icons">menu</i>
            </a>
          </li>
          <li>
            <a href="#" data-target="slide_editor" class="sidenav-trigger show-on-large">
              <i class="material-icons">mode_edit</i>
            </a>
          </li>
          <li>
            <a href="#">
              <i id="hide_logoutput" class="material-icons">keyboard_hide</i>
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- 侧边栏 -->
    <ul id="slide-out" class="sidenav resizable" style="background-color: #333;width: 20%;">
      <div id="tree_container"></div>
    </ul>

    <!-- 编辑器界面 -->
    <div id="slide_editor" class="sidenav editor-sidenav resizable" style="width: 70%;background-color: #333;">
      <div style="width: 100%;height: 10%;">
        <div class="card-content white-text" style="text-align: center;">
          <span class="title">编辑器</span>
        </div>
        <div class="card-action">
          <a href="#">
            <i class="material-icons">file_upload</i>
          </a>
          <a style="width: 40px;"></a>
          <a href="#">
            <i class="material-icons">save</i>
          </a>
          <a style="width: 40px;"></a>
          <a href="#">
            <i class="material-icons">delete</i>
          </a>
        </div>
      </div>
      <div id="editor_container" style="width: 100%; height: 90%;"></div>
    </div>


    <!-- 交互主面板 -->
    <div class="row" style="width: 100%; height: 100%; margin: 0;">

    </div>
    <!--日志输出栏-->
    <div id="log_output_panel" class="row teal darken-4" style="position: fixed;bottom: 0;width: 100%;height: 160px;display: block;">
      <div class="col m1  z-depth-2">
        <i class="material-icons">save</i>
        <br/>
        <i class="material-icons">delete</i>
      </div>
      <div class="col m10" style="overflow: auto;height: 300px;">
        <pre>

          /home/ahundt/.local/lib/python2.7/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
          from ._conv import register_converters as _register_converters
        Using TensorFlow backend.
        2018-02-24 17:57:24.388515: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties: 
        name: GeForce GTX TITAN X major: 5 minor: 2 memoryClockRate(GHz): 1.076
        pciBusID: 0000:02:00.0
        totalMemory: 11.92GiB freeMemory: 9.14GiB
        
        logs: {'loss': 0.4783020753239531, 'val_binary_accuracy': 0.8544542032622334, 'val_mean_pred': 0.5765384233508778, 'mean_true': 0.6366707616707616, 'binary_accuracy': 0.7731879606879607, 'test_binary_accuracy': 0.793584379358438, 'test_mean_true': 0.603905160390516, 'test_loss': 0.40996293260487293, 'test_mean_pred': 0.5342399459001004, 'val_loss': 0.36071502117421406, 'mean_pred': 0.6342599527402357, 'val_mean_true': 0.6700125470514429}
        
        Epoch 00001: val_binary_accuracy improved from -inf to 0.85445, saving model to ./logs_cornell/2018-02-24-17-57-25_deletme_finetuningtest-vgg_dense_model-dataset_cornell_grasping-grasp_success/2018-02-24-17-57-25_deletme_finetuningtest-vgg_dense_model-dataset_cornell_grasping-grasp_success-epoch-001-val_loss-0.361-val_binary_accuracy-0.854.h5
        Training:  50%|████████████████████████████████████████████████████████████████████████████████████▌                                                                                    | 1/2 [01:10<01:10, 70.90s/it]
        Epoch: 0 - loss: 0.478, binary_accuracy: 0.773, mean_pred: 0.634, mean_true: 0.637, val_loss: 0.361, val_binary_accuracy: 0.854, val_mean_pred: 0.577, val_mean_true: 0.670: 100%|██| 407/407 [01:10<00:00,  6.43s/it]
        epoch:0 self.epoch: 1 lr: 0.01 self.learning_rate: 0.0001 float(K.get_value(self.model.optimizer.lr)): 0.00999999977648 what is going on?0
        
        
        
        
        epoch:0 self.epoch: 1 lr: 0.01 self.learning_rate: 0.0001 float(K.get_value(self.model.optimizer.lr)): 9.99999974738e-05 what is going on?1
        
        
        
        logs: {'loss': 0.3740986755314564, 'val_binary_accuracy': 0.8569636135508155, 'val_mean_pred': 0.6045755832911781, 'mean_true': 0.6362100737100738, 'binary_accuracy': 0.8356879606879607, 'test_binary_accuracy': 0.8131101813110181, 'lr': 0.01, 'test_mean_true': 0.606694560669456, 'test_loss': 0.3948480336364447, 'test_mean_pred': 0.5687255830441652, 'val_loss': 0.3517344869665072, 'mean_pred': 0.6220840345290135, 'val_mean_true': 0.6813048933500627}
        
        Epoch 00002: val_binary_accuracy improved from 0.85445 to 0.85696, saving model to ./logs_cornell/2018-02-24-17-57-25_deletme_finetuningtest-vgg_dense_model-dataset_cornell_grasping-grasp_success/2018-02-24-17-57-25_deletme_finetuningtest-vgg_dense_model-dataset_cornell_grasping-grasp_success-epoch-002-val_loss-0.352-val_binary_accuracy-0.857.h5
        Training: 100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2/2 [02:12<00:00, 68.00s/it]
        Epoch: 1 - loss: 0.374, binary_accuracy: 0.836, mean_pred: 0.622, mean_true: 0.636, val_loss: 0.352, val_binary_accuracy: 0.857, val_mean_pred: 0.605, val_mean_true: 0.681: 100%|██| 407/407 [01:01<00:00,  6.05s/it]
        --------------------------------------------------------
        Epoch 00002 Fine tuning initialized with a new learning rate of 0.0001.
        
        
        epoch:1 self.epoch: 1 lr: 1e-04 self.learning_rate: 0.0001 float(K.get_value(self.model.optimizer.lr)): 9.99999974738e-05 what is going on?0
        
        
        
        
        epoch:1 self.epoch: 1 lr: 1e-04 self.learning_rate: 0.0001 float(K.get_value(self.model.optimizer.lr)): 9.99999974738e-05 what is going on?1
        
        
        
        val_loss
        Writing logs for models, accuracy and tensorboard in ./logs_cornell/2018-02-24-17-59-40_deletme_finetuningtest-vgg_dense_model-dataset_cornell_grasping-grasp_success
        Training:   0%|                                                                                                                                                                                 | 0/2 [00:00<?, ?it/s]2018-02-24 17:59:41.896400: I 
        
        logs: {'loss': 0.4810578681034304, 'val_binary_accuracy': 0.8444165621079046, 'val_mean_pred': 0.6077896220565141, 'mean_true': 0.6355958230958231, 'binary_accuracy': 0.7681203931203932, 'test_binary_accuracy': 0.8158995815899581, 'test_mean_true': 0.6150627615062761, 'test_loss': 0.4176696949541657, 'test_mean_pred': 0.5816565619540015, 'val_loss': 0.3597393203379208, 'mean_pred': 0.6361474243223814, 'val_mean_true': 0.671267252195734}
        
        Epoch 00001: val_binary_accuracy improved from -inf to 0.84442, saving model to ./logs_cornell/2018-02-24-17-59-40_deletme_finetuningtest-vgg_dense_model-dataset_cornell_grasping-grasp_success/2018-02-24-17-59-40_deletme_finetuningtest-vgg_dense_model-dataset_cornell_grasping-grasp_success-epoch-001-val_loss-0.360-val_binary_accuracy-0.844.h5
        Training:  50%|████████████████████████████████████████████████████████████████████████████████████▌                                                                                    | 1/2 [01:06<01:06, 66.19s/it]
        Epoch: 0 - loss: 0.481, binary_accuracy: 0.768, mean_pred: 0.636, mean_true: 0.636, val_loss: 0.360, val_binary_accuracy: 0.844, val_mean_pred: 0.608, val_mean_true: 0.671: 100%|██| 407/407 [01:06<00:00,  6.26s/it]
        epoch:0 self.epoch: 1 lr: 0.01 self.learning_rate: 0.0001 float(K.get_value(self.model.optimizer.lr)): 0.00999999977648 what is going on?0
        
        
        
        
        epoch:0 self.epoch: 1 lr: 0.01 self.learning_rate: 0.0001 float(K.get_value(self.model.optimizer.lr)): 9.99999974738e-05 what is going on?1
        
        
        
        logs: {'loss': 0.3773377069091328, 'val_binary_accuracy': 0.8619824341279799, 'val_mean_pred': 0.6283095117490107, 'mean_true': 0.6380528255528255, 'binary_accuracy': 0.8312346437346437, 'test_binary_accuracy': 0.8200836820083682, 'lr': 0.01, 'test_mean_true': 0.596931659693166, 'test_loss': 0.4088241641346048, 'test_mean_pred': 0.5962408034058192, 'val_loss': 0.3422797008504018, 'mean_pred': 0.6235201416642425, 'val_mean_true': 0.6775407779171895}
        
        Epoch 00002: val_binary_accuracy improved from 0.84442 to 0.86198, saving model to ./logs_cornell/2018-02-24-17-59-40_deletme_finetuningtest-vgg_dense_model-dataset_cornell_grasping-grasp_success/2018-02-24-17-59-40_deletme_finetuningtest-vgg_dense_model-dataset_cornell_grasping-grasp_success-epoch-002-val_loss-0.342-val_binary_accuracy-0.862.h5
        Training: 100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2/2 [02:07<00:00, 64.76s/it]
        Epoch: 1 - loss: 0.377, binary_accuracy: 0.831, mean_pred: 0.624, mean_true: 0.638, val_loss: 0.342, val_binary_accuracy: 0.862, val_mean_pred: 0.628, val_mean_true: 0.678: 100%|██| 407/407 [01:01<00:00,  6.12s/it]
        --------------------------------------------------------
        Epoch 00002 Fine tuning initialized with a new learning rate of 0.0001.
        
        
        epoch:1 self.epoch: 1 lr: 1e-04 self.learning_rate: 0.0001 float(K.get_value(self.model.optimizer.lr)): 9.99999974738e-05 what is going on?0
        
        
        
        
        epoch:1 self.epoch: 1 lr: 1e-04 self.learning_rate: 0.0001 float(K.get_value(self.model.optimizer.lr)): 9.99999974738e-05 what is going on?1
        


        </pre>
      </div>
    </div>

</body>
<style>

.editor-sidenav{
  background-color: #333;
}

@media (prefers-color-scheme: dark) {
  body { background:  #333; color: white; }
}

@media (prefers-color-scheme: light) {
  body { background:  #ddd; color: black; }
}

  @font-face {
    font-family: 'Material Icons';
    font-style: normal;
    font-weight: 400;
    src: local('Material Icons'), local('MaterialIcons-Regular'), url(https://fonts.gstatic.com/s/materialicons/v7/2fcrYFNaTjcS6g4U3t-Y5ZjZjT5FdEJ140U2DJYC3mY.woff2) format('woff2');
  }

  .material-icons {
    font-family: 'Material Icons';
    font-weight: normal;
    font-style: normal;
    font-size: 24px;
    line-height: 1;
    text-transform: none;
    display: inline-block;
    -webkit-font-feature-settings: 'liga';
    -webkit-font-smoothing: antialiased;
  }

  .resizable {
    resize: both;
    overflow: scroll;
    border: 1px solid black;
  }
</style>
<link rel="stylesheet" href="./node_modules/materialize-css/dist/css/materialize.css">
<link rel="stylesheet" href="./resources/js/treejs-master/treejs.css">
<link rel="stylesheet" href="./node_modules/monaco-editor/min/vs/editor/editor.main.css">
<link rel="stylesheet" href="./node_modules/xterm/css/xterm.css">
<!-- You can also require other files to run in this process -->
<script src="./node_modules/materialize-css/dist/js/materialize.js"></script>
<script src="./resources/js/treejs-master/tree.js"></script>
<script src="./node_modules/xterm/lib/xterm.js"></script>
<script>
      window.$ = window.jQuery = require("./node_modules/jquery/dist/jquery.js");
</script>
<!-- <script src="./node_modules/jquery/dist/jquery.js"></script> -->
<script>

    document.addEventListener('DOMContentLoaded', function() {
      var elem = document.querySelector('#slide-out');
      var instance = new M.Sidenav(elem,{"edge":"left"});
      var editor_elem = document.querySelector("#slide_editor");
      var editor_inst = new M.Sidenav(editor_elem);

      $("#hide_logoutput").on("click",function(){
        if($("#log_output_panel").css("height") === "0px"){
          $("#log_output_panel").css("height","160px")
        }else{
          $("#log_output_panel").css("height","0px")
        }
      });

    });
    const {ipcRenderer} = require('electron');
    $("#backHome").on("click",function(){
      ipcRenderer.send("back_to_main_page");
    });

		(function () {
			const path = require('path');
			const amdLoader = require('./node_modules/monaco-editor/min/vs/loader.js');
			const amdRequire = amdLoader.require;
			const amdDefine = amdLoader.require.define;

			function uriFromPath(_path) {
				var pathName = path.resolve(_path).replace(/\\/g, '/');
				if (pathName.length > 0 && pathName.charAt(0) !== '/') {
					pathName = '/' + pathName;
				}
				return encodeURI('file://' + pathName);
			}

			amdRequire.config({
				baseUrl: uriFromPath(path.join(__dirname, './node_modules/monaco-editor/min'))
			});

			// workaround monaco-css not understanding the environment
			self.module = undefined;

			amdRequire(['vs/editor/editor.main'], function () {
				var editor = monaco.editor.create(document.getElementById('editor_container'), {
					value: "",
					language: 'javascript'
        });
        monaco.editor.setTheme('vs-dark');
			});
		})();

    var root = new TreeNode("root");
    var n1 = new TreeNode("1");
    var n11 = new TreeNode("1.1");
    var n2 = new TreeNode("2");
    var n3 = new TreeNode("3");
    var n31 = new TreeNode("3.1");
    var n32 = new TreeNode("3.2");
    var n321 = new TreeNode("3.2.1");
    var n33 = new TreeNode("3.3");

    root.addChild(n1);
    root.addChild(n2);
    root.addChild(n3);

    n1.addChild(n11);

    n3.addChild(n31);
    n3.addChild(n32);
    n3.addChild(n33);

    n3.setEnabled(false);

    n32.addChild(n321);

    var view = new TreeView(root, "#tree_container");

</script>